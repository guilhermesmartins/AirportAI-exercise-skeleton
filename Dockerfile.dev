FROM node:16-alpine

WORKDIR "/app"

COPY ./package.json ./
RUN npm install
RUN npx prisma generate
COPY . .

ARG API_PORT=3000
EXPOSE $API_PORT

CMD ["npm", "run", "start:dev"]